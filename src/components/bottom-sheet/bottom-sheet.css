/* Override react-modal-sheet defaults to match current styles */
[data-rsbs-root] {
  z-index: 50 !important;
}

[data-rsbs-overlay] {
  z-index: 49 !important;
}

[data-rsbs-header] {
  cursor: grab;
}

[data-rsbs-header]:active {
  cursor: grabbing;
}

/* Ensure smooth animations */
[data-rsbs-content] {
  will-change: transform;
}

/* Fix initial padding-bottom flash */
[data-rsbs-scroll] {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Match current animation timing */
[data-rsbs-root] {
  --rsbs-transition-duration: 260ms;
}

/* CRITICAL: Enhanced visibility to prevent sheet from seeming "lost" */
.react-modal-sheet-container {
  /* Stronger shadow for better edge visibility */
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15) !important;
  /* Ensure sheet is always above other content */
  z-index: 51 !important;
}

/* Make drag handle more prominent when sheet is collapsed */
[data-sheet-state="collapsed"] .react-modal-sheet-drag-indicator {
  background-color: rgba(20, 20, 20, 0.5) !important;
  height: 4px !important;
  width: 48px !important;
}

/* Visual feedback for extended drag header when grabbing */
[data-testid="drag-header-extended"]:active {
  cursor: grabbing !important;
}

/* Ensure smooth interaction at ALL snap states */
[data-sheet-state="collapsed"],
[data-sheet-state="half"],
[data-sheet-state="expanded"] {
  /* Allow vertical dragging while preserving horizontal scroll */
  touch-action: pan-x !important;
}

/* Ensure interactive elements within drag zone remain clickable */
[data-testid="drag-header-extended"] input,
[data-testid="drag-header-extended"] button {
  position: relative;
  z-index: 1;
}

/* Remove any borders or dividers from react-modal-sheet components */
[data-rsbs-header],
[data-rsbs-content],
[data-rsbs-scroll] {
  border: none !important;
  border-top: none !important;
  border-bottom: none !important;
  outline: none !important;
}

/* Ensure seamless background on SearchResults screen */
[data-rsbs-header] > div,
[data-rsbs-content] > div {
  border: none !important;
  margin: 0 !important;
}

/* Remove any box-shadow that might create visual lines */
[data-rsbs-header]::after,
[data-rsbs-header]::before,
[data-rsbs-content]::after,
[data-rsbs-content]::before {
  content: none !important;
  display: none !important;
}

/* Specific rules for SearchResults screen to ensure clean layout */
[data-sheet-state="half"] [data-rsbs-header],
[data-sheet-state="half"] [data-rsbs-content] {
  box-shadow: none !important;
  border: none !important;
}

/* Remove any potential divider lines between header and content */
[data-rsbs-header] + [data-rsbs-content] {
  margin-top: 0 !important;
  border-top: none !important;
}

/* Ensure SearchBar on results screen has no bottom border */
.bg-\[\#F1F1F1\] {
  border-bottom: none !important;
}

/* Clean transitions between sections */
[data-rsbs-header] > * {
  border-bottom: none !important;
  box-shadow: none !important;
}

/* Special handling for SearchResults screen to remove ALL artifacts */
[data-testid="bottom-sheet"][data-sheet-state] {
  overflow: hidden !important;
}

/* Hide ANY shadows or borders when header background is gray */
[data-testid="drag-header-extended"] {
  box-shadow: none !important;
  border: none !important;
}

/* Ensure no rounded corners bleed through on SearchResults */
[data-testid="drag-header-extended"][style*="F1F1F1"] {
  border-radius: 0 !important;
}

[data-testid="drag-header-extended"][style*="F1F1F1"] * {
  border-radius: 0 !important;
}

/* Hide the container shadow completely on gray background */
.react-modal-sheet-container {
  transition: box-shadow 0.2s ease-in-out;
}

/* Remove any pseudo-elements that might create lines */
[data-rsbs-header]::before,
[data-rsbs-header]::after,
[data-rsbs-content]::before,
[data-rsbs-content]::after,
[data-testid="drag-header-extended"]::before,
[data-testid="drag-header-extended"]::after {
  display: none !important;
  content: none !important;
}